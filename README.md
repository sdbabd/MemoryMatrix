# 考研记忆 Pro 

## 📚 项目简介

考研记忆 Pro 是一个专门为考研学生设计的智能记忆系统，帮助用户高效记忆长文本内容。

## 🎯 核心特性

### 🧠 智能记忆系统
- **自适应遮盖率**：可调节的难度设置（20%-90%遮盖率）
- **LaTeX公式支持**：完美渲染复杂数学公式
- **记忆热力图**：可视化显示知识点的掌握程度
- **专注模式**：点击遮盖区域进入专注答题模式
- **状态持久化**：答题状态在页面切换时完整保持（v1.1新增）

### 📊 学习数据分析
- **遗忘次数统计**：记录每个知识点的遗忘情况
- **错误率计算**：实时计算整体学习效果
- **平均耗时分析**：统计每个知识点的掌握时间
- **热力图可视化**：5级颜色编码显示掌握程度

### 🎨 现代化界面
- **响应式设计**：完美适配桌面和移动设备
- **Material Design**：现代化的卡片式界面
- **平滑动画**：流畅的过渡和交互效果
- **暗色模式支持**：保护眼睛的界面设计
## 📖 题目内容配置

### 🔧 数据结构说明

每道题目采用JSON格式存储在JavaScript的`questions`数组中：

```javascript
{
    "title": "题目标题",
    "content": "题目内容（支持LaTeX和普通文本）"
}
```

### 📐 LaTeX语法配置

**基础语法规则：**
- **行内公式**：使用单个 `$` 包裹，如 `$x(t)$`
- **显示公式**：使用双 `$` 包裹，如 `$$\omega_s = \frac{2\pi}{T}$$`
- **特殊字符转义**：
  - 反斜杠：`\\`
  - 下标：`_` (如 `$f_{max}$`)
  - 上标：`^` (如 `$e^{sT}$`)
  - 希腊字母：`\omega`, `\sigma`, `\pi` 等

**LaTeX常用数学符号：**
```javascript
// 分数
\\frac{分子}{分母}  // 例如：\\frac{2\\pi}{N}

// 上下标
x(t - t_0)           // 下标
e^{j\\omega}         // 上标
\\omega_s             // 希腊字母+下标

// 特殊符号
\\geq                 // 大于等于
\\leq                 // 小于等于
\\sim                 // 波浪号
\\cdot                // 点乘
\\text{DFT}          // 正体文本
```

### 🎯 智能遮挡算法

系统会根据设置的**遮挡率**（默认50%）自动遮挡内容：

**遮挡规则：**
1. **LaTeX公式**：作为整体被遮挡或不遮挡
2. **中文文本**：按词组分割，每个词组独立判断
3. **分割规则**：使用正则表达式 `/([^，。；：、？!\s\n\(\)（）<>=]+)/g` 分割文本
4. **长度过滤**：长度>1的词汇才会被考虑遮挡
5. **稳定遮挡**：v1.1版本实现基于题目索引的固定遮挡模式

**遮挡决策算法：**
```javascript
// 基于题目索引的稳定随机数
const random = getSeededRandom(questionIndex);

// LaTeX公式遮挡
const shouldMask = random() < maskRate;

// 文本词组遮挡
let isMasked = random() < maskRate && match.length > 1;
```

### 📝 题目配置示例

**简单题目示例：**
```javascript
{
    "title": "1. 基础概念题",
    "content": "信号的无失真传输要求输出响应的波形应当与系统输入激励信号的波形完全相同，而幅度大小可以不同。即满足条件公式 $y(t) = K \\cdot x(t - t_0)$ 的系统称为无失真传输系统。"
}
```

**复杂数学公式示例：**
```javascript
{
    "title": "2. 拉氏变换与Z变换关系",
    "content": "由对应公式 $z = e^{sT} = e^{(\\sigma + j\\omega)T} = r e^{j\\theta}$ 可知：\\n$s$ 平面的左半平面（$\\sigma < 0$）映射到 $z$ 平面单位圆的圆内（$|z| < 1$）；\\n$s$ 平面的虚轴（$\\sigma = 0$）映射到 $z$ 平面的单位圆（$|z| = 1$）。"
}
```

**多段落题目示例：**
```javascript
{
    "title": "3. 调制技术对比",
    "content": "幅度调制的三种主要形式：\\n\\n（1）AM调制：包含载波分量，功率效率较低，$x_{AM}(t) = [A_0 + m(t)] \\cos(\\omega_c t)$\\n\\n（2）DSB调制：抑制载波，只传输边带，$x_{DSB}(t) = m(t) \\cos(\\omega_c t)$\\n\\n（3）SSB调制：单边带传输，带宽效率最高，$x_{SSB}(t) = m(t) \\cos(\\omega_c t) \\mp \\hat{m}(t) \\sin(\\omega_c t)$"
}
```

### ⚙️ 添加新题目步骤

1. **编辑HTML文件**：找到第487行的`questions`数组
2. **添加新对象**：在数组末尾或指定位置添加
3. **更新题目总数**：系统会自动识别数组长度
4. **测试LaTeX渲染**：确保公式语法正确

**示例添加：**
```javascript
// 在questions数组末尾添加新题目
{
    "title": "17. 你的新题目",
    "content": "你的题目内容，支持LaTeX公式如 $\\int_{-\\infty}^{+\\infty} x(t) e^{-j\\omega t} dt$ 和普通文本"
},
```

### 📋 配置注意事项

**LaTeX语法要求：**
- 使用KaTeX语法，支持大部分数学公式
- 复杂嵌套公式请确保括号匹配
- 中文LaTeX命令需要双反斜杠转义



## 🚀 使用指南

### 基本操作
1. **开始学习**：打开应用即可开始第一题的学习
2. **记忆测试**：点击被遮盖的文字或公式
3. **答题判断**：选择"记得"或"忘了"
4. **切换题目**：使用底部的"上一题"/"下一题"按钮

### 高级功能
1. **热力图查看**：点击顶部火焰图标查看记忆热力图
2. **设置调整**：点击齿轮图标调整遮盖难度
3. **重置练习**：完成所有题目后可选择重新开始
4. **数据统计**：实时查看遗忘次数、错误率和平均耗时

### 热力图颜色说明
- 🟢 **0次**：完全掌握（绿色）
- 🟡 **1-2次**：基本掌握（黄色）
- 🟠 **3-4次**：需要练习（橙色）
- 🔴 **5-7次**：重点复习（红色）
- 🟣 **8次+**：难点重点（紫色）

## ⚙️ 技术实现

### 前端技术栈
- **HTML5**：语义化结构
- **CSS3**：响应式设计，Flexbox/Grid布局
- **JavaScript ES6+**：模块化代码，现代语法
- **KaTeX**：高质量数学公式渲染

### 核心算法
- **智能分词算法**：混合LaTeX和普通文本的处理
- **随机遮盖算法**：基于概率的智能遮盖
- **记忆数据分析**：多维度学习效果评估
- **本地存储管理**：数据持久化和版本控制

### 数据管理
- **LocalStorage**：本地数据存储
- **JSON格式**：结构化的数据管理
- **版本控制**：数据迁移和兼容性处理

## 📱 系统要求

### 浏览器支持
- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+

### 设备要求
- **桌面端**：1024×768以上分辨率
- **移动端**：iOS 11+/Android 6+
- **网络**：首次加载需要网络连接（KaTeX CDN）

## 🔧 配置选项

### 遮盖率设置
- **初级（20%）**：少量遮盖，适合初学
- **中级（50%）**：中等难度，推荐设置
- **高级（70%）**：较高难度，适合强化
- **专家（90%）**：极限难度，适合测试

### 数据管理
- **清空历史数据**：删除所有学习记录
- **重置练习状态**：保留热力图，重新开始
- **导出学习数据**：支持数据备份（规划功能）

## 🎓 学习建议

1. **循序渐进**：从低遮盖率开始，逐步提高难度
2. **定期复习**：根据热力图颜色重点复习薄弱知识点
3. **主动回忆**：先尝试回忆，再点击验证
4. **错题重点**：关注红色和紫色的难点内容

### 更新记录



#### 🎉 v1.0 初始版本（2025-11-28）

##### 🚀 核心功能发布
- **遮盖算法**：自适应遮盖技术
- **LaTeX公式支持**：完美渲染复杂数学公式的KaTeX集成
- **记忆热力图**：5级颜色编码可视化学习进度
- **专注模式**：点击式答题的沉浸式学习体验

##### 🎨 现代化界面设计
- **响应式布局**：完美适配桌面和移动设备
- **Material Design风格**：现代化卡片式界面设计
- **平滑动画效果**：流畅的页面切换和交互反馈
- **暗色模式友好**：护眼的界面配色方案

##### 📊 学习数据分析
- **实时统计仪表盘**：遗忘次数、错误率、平均耗时三维度分析
- **本地数据持久化**：LocalStorage存储学习进度
- **版本兼容管理**：数据迁移和向后兼容性
- **热力图可视化**：直观展示知识点掌握程度

##### ⚙️ 技术实现
- **单文件应用**：HTML+CSS+JavaScript的纯前端实现
- **ES6+语法**：现代JavaScript模块化编程
- **CDN依赖**：KaTeX数学公式渲染引擎
- **跨浏览器兼容**：Chrome 60+、Firefox 55+、Safari 11+、Edge 79+


#### 🆕 v1.1 更新内容（2025-11-30）

##### 🔧 核心问题修复
- **状态持久化修复**：解决了切换页面时答题状态被重置的关键问题
- **遮挡模式优化**：实现了基于题目索引的稳定遮挡算法，确保每次渲染的遮挡位置固定
- **用户体验提升**：答题后在不同页面间切换，已标记的正确/错误状态完整保持

##### 🐛 具体修复内容
1. **会话状态保持**：移除了`changePage`函数中清空`sessionState`的错误逻辑
2. **稳定随机生成**：添加了`getSeededRandom()`函数，使用基于题目索引的固定种子
3. **遮挡算法优化**：将`Math.random()`替换为稳定的伪随机数生成器
4. **数据一致性**：确保ID与内容映射在多次渲染间保持稳定

###### ✨ 使用改进
- 用户可以安全地在不同题目间切换，不用担心答题进度丢失
- 返回已答题页面时，已标记的填空会正确显示绿色（正确）或红色（错误）
- 遮挡布局不再重新随机化，提供一致的学习体验

#### 🆕 v1.2 更新内容（2025-12-1）

##### 💾 数据持久化重大升级
- **完全持久化存储**：答题状态在页面刷新、浏览器重启后完整保持
- **数据结构优化**：移除临时`sessionState`，改用持久化`progress`字段
- **跨会话状态保持**：学习进度在任何情况下都不会丢失

##### 🔧 核心技术改进
1. **持久化存储架构**：
   - 新增`progress`字段存储答题状态：`{id: 'correct'|'wrong'|null}`
   - 所有数据（配置、历史、进度）统一保存到`localStorage`
   - 页面初始化时自动恢复完整学习状态

2. **智能状态管理**：
   - 答题后状态立即持久化，不再依赖临时会话数据
   - 重置练习时智能区分历史数据和当前进度
   - 修改遮挡率时自动清空进度（避免状态错乱）

3. **数据兼容性保障**：
   - 向后兼容旧版本数据格式
   - 平滑升级机制，现有数据无缝迁移
   - 版本控制和数据结构演进支持

###### 🎯 用户体验飞跃
- **零数据丢失**：任何操作都不会导致学习进度丢失
- **跨设备一致性**：为未来的数据同步功能奠定基础
- **学习连续性**：支持长时间、多阶段的学习流程


## 🔮 未来规划

### 功能扩展
- [ ] 多套题库支持
- [ ] 云端数据同步
- [ ] 学习计划和提醒功能
- [ ] 社交分享和排行榜
- [ ] AI智能推荐复习内容

### 技术优化
- [ ] PWA支持，离线使用
- [ ] 性能优化，大规模题库支持
- [ ] 键盘快捷键支持
- [ ] 无障碍访问优化
- [ ] 多语言国际化

## 📄 许可证

本项目采用 MIT 许可证，欢迎学习和贡献。

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues：提交问题报告

---

**祝您考研顺利，金榜题名！** 🎊